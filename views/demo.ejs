<!doctype html>

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>WebcamJS Test Page</title>
	<style type="text/css">
		body { font-family: Helvetica, sans-serif; }
		h2, h3 { margin-top:0; }
		form { margin-top: 15px; }
		form > input { margin-right: 15px; }
		#results { float:right; padding:15px; border:1px solid; background:#f8f8f8; }
		#img { width: 50%; height: 50%; }
		
		.left { float: left; }
		.right { float: right; }
		.half { width: 50%; }
	</style>
</head>
<body>	
	<div class="left">
		<h1>Demo Page</h1>
		<h3>Demonstrates Fall Down detection</h3>
		
		<img id="img">
		<!-- A button for taking snaps -->
		<form>
			<input type="button" value="Start" onClick="start()">
			<input type="button" value="Stop" onClick="stop()">
			<input type="button" value="Clear" onClick="erase()">
		</form>
	</div>
	<div class="right" id="graph">
		<script type="text/javascript">
			function randomData() {
				return Math.random() * 10;
			}
	
			var data = [];
			var now = +new Date(1997, 9, 3);
			var oneDay = 24 * 3600 * 1000;
			var value = Math.random() * 1000;
			var myChart = echarts.init(document.getElementById('graph')); 
	
			var option = {
				title: {
					text: '动态数据 + 时间坐标轴'
				},
				tooltip: {
					trigger: 'axis',
				},
				xAxis: {
					type: 'category',
					name: 'x',
					splitLine: {show: false},
					data: [0.0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2.0,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3.0,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9,4.0,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9,5.0,5.1,5.2,5.3,5.4,5.5,5.6,5.7,5.8,5.9,6.0,6.1,6.2,6.3,6.4,6.5,6.6,6.7,6.8,6.9,7.0,7.1,7.2,7.3,7.4,7.5,7.6,7.7,7.8,7.9,8.0,8.1,8.2,8.3,8.4,8.5,8.6,8.7,8.8,8.9,9.0,9.1,9.2,9.3,9.4,9.5,9.6,9.7,9.8,9.9] 
				},
				yAxis: {
					type: 'value',
					boundaryGap: [0, '100%'],
					splitLine: {
						show: false
					}
				},
				series: [{
					name: '模拟数据',
					type: 'line',
					showSymbol: false,
					hoverAnimation: false,
					data: data
				}]
			};
			myChart.setOption(option);
			setInterval(function () {
				data.push(randomData());
				myChart.setOption({
					series: [{
						data: data
					}]
				});
			}, 1000);
	
		</script>	
	</div>
	
	
	<script language="JavaScript">
		var pic_num = 0;
		var timer = null;
		function take_snapshot() {
		// take snapshot and get image data
		pic_num = pic_num + 1;
		if (pic_num > 153)	pic_num = 1;
		document.getElementById("img").src = "/images/IMG_9239/IMG_9239_" + pic_num + ".jpg";
		
		}		
		function start() {
			if (!timer) {
				take_snapshot();
				timer = setInterval( take_snapshot, 42 );
			}
		}
		
		function stop() {
			if (timer) {
				clearTimeout( timer );
				timer = null;
			}
		}
		
		function erase() {
			pic_num = 0;
		}
	</script>
	
</body>
</html>

